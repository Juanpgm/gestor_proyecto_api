# Test mínimo para Railway - solo para debugging
FROM python:3.12-slim

WORKDIR /app

# Solo FastAPI y uvicorn
RUN pip install fastapi uvicorn

# App mínima de test
RUN echo 'from fastapi import FastAPI; import os; app = FastAPI(); @app.get("/ping"): async def ping(): return {"status": "ok"}; @app.get("/"): async def root(): return {"message": "Railway test", "port": os.getenv("PORT", "8000")}' > test_app.py

EXPOSE 8000

# Comando simple de test
CMD ["sh", "-c", "echo 'Testing Railway with minimal app on port ${PORT:-8000}' && uvicorn test_app:app --host 0.0.0.0 --port ${PORT:-8000}"]